Let $\Theta$ be a fixed, finite set of angles:
$$
0 = \theta_0 < \theta_1 < \theta_2 < \cdots < \theta_n = \pi/2
$$
Given the set $\Theta$ of angles as input, the task of `SofaDesigner` is to calculate a subset $\mathcal{S}$ of $\mathcal{K}_\Theta$ where the monotonization $\mathcal{M}_\Theta(K)$ has an area at least $2.2195\dots$.  That is, it effectively calculates a small domain $\mathcal{S}$ of sofas that traps a maximum sofa inside. Given a linear functional $f$ on $\mathcal{K}_\Theta$, `SofaDesigner` will be able to calculate an upper/lower bound of $f$ on $\mathcal{S}$. It will be used extensively to prove theorems like injectivity theorem.

It often helps to denote a part of the sofa polygon simply by using index.

> __Definition [sofa-polygon-notations].__ Let the index $0 \leq i \leq n$ be taken arbitrary. Define the following notions for an arbitrary $K \in \mathcal{K}_\Theta$. ^def-sofa-polygon-notations
> 
> - $p_i = p(\theta_i)$, $\mathbf{x}_i = \mathbf{x}_K(\theta_i)$, $\mathbf{y}_i = \mathbf{y}_K(\theta_i)$
> - Lines $a_i = a_K(\theta_i)$, $b_i = b_K(\theta_i)$, $c_i = c_K(\theta_i)$, $d_i = d_K(\theta_i)$.
> - With a bit of abuse of notation, we will also define $d_i = c_{n + i}$ for any negative index $-n \leq i < 0$ as well. In this way, the niche of $S$ is bounded by a polyline forming. Also, the slope of $d_i$ increases by the index $i$, and is positive when $i > 0$ and negative when $i < 0$. Define the normal vectors $v_i$ of $d_i$ including the negative vectors.
> - $A_0 = a_0 \cap l(0, \pi/2)$ and $A_i = a_{i} \cap a_{i-1}$ for $i > 0$.

Calculation:
$p_i$ $p_j$ $p_k$ $v_i$ $v_j$ $v_k$



The space $\mathcal{K}_\Theta$ is finite-dimensional. An $K \in \mathcal{K}_\Theta$ can be expressed in terms of any of the following coordinate systems.
- The support function values $p_i = p(\theta_i)$ on $\Theta$.
- The edge lengths $b_i = \beta_K(\left\{ \theta_i \right\}) \geq 0$ of the upper boundary of $\delta K$.
- The coordinates of the inner corners $\mathbf{x}_i = \mathbf{x}_K(\theta_i)$.
It is 

All the terms we defined are expressed affine-linearly in terms of the coordinates of $K$. Moreover, the intersections of $d_i \cap d_j$ for $-n \leq i, j \leq n$ are expressible in affine-linear terms of $K$. 

TODO for above:
- What are the exact conditions for them to hold?
- How do we transfer one information to another?

SKETCH:
> If . This is how current `SofaDesigner` is implemented, but any coordinate system of $p_i$ can be chosen. 


- The space of hallway intersections with finite angles is finite-dimensional
	- Has three sets of variables: x, p, boundary measure values.
	- Has a finite number of inequalities constraints on the variables.

`SofaDesigner` produces a proof tree on such space of polygonal sofas.
- Definition of a tree
	- Node = Quadratic Programming
	- Branching = inequality and its antisymmetric ineq 

- What does it take to verify a tree
	- Check that it is positive semidefinite
	- Check area
	- Check polyline

- Question: Why can we assume that $p_0$ = 0? By translation of course. But we also have to ensure that the functionals we bound for is invariant under this translation.