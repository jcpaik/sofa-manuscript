In short, the previous chapters have shown that a sofa is essentially the intersection of rotated hallways. Instead of fixing the hallway $L$ and moving the sofa $S$ inside $L$, we can fix the sofa $S$ and see the movement in the point of view of $S$ so that $L$ is rotating while containing the sofa $S$. Note also that $S$ has to be contained in the horizontal strip $H = \mathbb{R} \times [0, 1]$ so that it can be moved freely around a straight hallway as well. So the problem of maximizing the area of a sofa is to maximize the area of the intersection of all rotating hallways and the horizontal strip $H$.

The aim of the software `SofaDesigner` is to maximize the hallway intersection of the strip $H$ and a finite number of hallways $L_1, L_2, \dots, L_n$ rotated counterclockwise by a predetermined, finite set of angles $\theta_1, \theta_2, \dots, \theta_n$.

We describe what exactly is a hallway intersection and specify what `SofaDesigner` does. 

# Parameters and Variables

First, an increasing finite list 
$$0 = \theta_0 < \theta_1 < \theta_2 < \cdots < \theta_n = \pi/2$$
of angles is given as an input. Note that angles of $0$ and $\pi/2$ are already determined. Also, we fix the following notations.
- $H$ is the horizontal strip of height 1 with two lines $y=0$ and $y=1$ as boundary.
	- Mathematically, $H = \mathbb{R} \times [0, 1]$.
- $L$ is the right-angled hallway of width 1, with inner corner at $(0, 0)$ and outer corner at $(1, 1)$.
	- Mathematically, $L = (-\infty, 1] \times [0, 1] \cup [0, 1] \times (-\infty, 1]$.
- For all $1 \leq i < n$, $L_i$ is the hallway $L$ rotated counterclockwise by an angle of $\theta_i$ and translated so that its inner corner is $\mathbf{x}_i$.
	- Note that $i=0$ and $i=n$ are excluded.
	- The position of $L_i$ is effectively represented by the position $\mathbf{x}_i$ of the inner corner.
	- Mathematically, $\mathbf{x}_i \in\mathbb{R}^2$ are variables that can change arbitrary, and $L_i = R_{\theta_i}(L) + \mathbf{x}_i$ where $R_\theta$ is the rotation of the plane by its origin with the angle $\theta$.
- $S$ is the polygonal 'sofa' which is the intersection of $H$ and all the rotating hallways $L_i$ for all $1 \leq i < n$.

The list of angles $\theta_i$ is fixed as a given constant. But the positions $\mathbf{x}_1, \mathbf{x}_2, \dots, \mathbf{x}_{n-1}$ of the hallways are _variables_. Our polygonal sofa $S$ solely depends on the variables $\mathbf{x}_1, \mathbf{x}_2, \dots, \mathbf{x}_{n-1}$. Moreover, we introduce the following notations as well. All such notions, except for $u_i$ and $v_i$, also depend on $\mathbf{x}_i$'s as well.

- For every $0 \leq i \leq n$, define two orthogonal unit vectors $u_i = \left( \cos (\theta_i), \sin(\theta_i) \right)$ and $v_i = \left( - \sin(\theta_i), \cos(\theta_i) \right)$. Also, define $\mathbf{y}_i = \mathbf{x}_i + u_i + v_i$. Check that $\mathbf{y}_i$ is the outer corner of the hallway $L_i$.
- Let $a, b, c,$ and $d$ be the edges of the hallway $L$ depicted in Figure 1. Let $a_i$, $b_i$, $c_i$ and $d_i$ be the corresponding edges of the hallway $L_i$.
- For every $1 \leq i < n$, let $p_i$ and $q_i$ be the real values that satisfy $\mathbf{y}_i = p_i u_i + q_i v_i$. Note that the position of $\mathbf{x}_i$ can be effectively represented as a linear formula of $p_i$ and $q_i$ (and vice versa). 

Moreover, we have shown in previous sections that we can impose the following extra condition as follows.

- The following list of lines form the edges of a convex polygon $K$ called the _cap_ of the sofa $S$.
	- $a_1, a_2, \dots, a_{n-1}$, the line $y=1$, $c_1, c_2, \dots, c_{n-1}$, the line $y=0$.
- This condition can be 

The set of all hallway intersections is given by the state $(\mathbf{x}_1, \mathbf{x}_2, \dots, \mathbf{x}_n)$, and the set of all states that gives a valid hallway intersection forms a _convex polytope_ inside . That is, a region described by a finite number of inequalities.
- Describe the exact inequalities required for a finite version 

# Goals of `SofaDesigner`

We would like to analyze the region where $S$ is at least the area of Gerver's sofa. 

# Combinatorial Arrangement of Hallways

Any intersection or union of polygons are polygons. Moreover, the order of which edges appears in the edges hold importance as well. We denote this as the _combinatorial type_ of ...



%%
Questions:
- How to make them verify a QP?

There are multiple ways to verify a QP:
- Supply certificate for a predetermined value / polynomials
	- Fastest. But would love to have other ways to formulate the problem and verify as well!

Program:
- uses _edge lengths_ as the primitive variables, and represent all the other variables as a formula for it.
	- Advantage: them >= 0 is a valid condition for already.
	- 
- 
%%