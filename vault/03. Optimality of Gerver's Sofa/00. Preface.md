Call a connected planar shape $S$ a _moving sofa_ if it can move around the right-angled corner of a hallway $L$ with unit width. The _moving sofa problem_ asks for the moving sofa of largest area $\alpha_{\max}$. It has been conjectured that Gerver's sofa $G$ of area $2.2195\dots$ achieves the maximum area. An obstacle for proving the global optimality of $G$ is that there is no workable formula for the area of a movable shape.

We prove that Gerver's sofa indeed achieves the maximum area. The main idea is to give an upper bound $\mathcal{Q}$ of the area of a moving sofa that is quadratic and concave on a convex domain. The domain of $\mathcal{Q}$ is a collection of planar convex bodies with the barycentric operation given by Minkowski sums. We extend the Brunn-Minkowski theory on planar convex bodies to define $\mathcal{Q}$ and calculate its directional derivative. Gerver's sofa is then a critical point of $\mathcal{Q}$ and thus a global optimum of $\mathcal{Q}$. Since the value of $\mathcal{Q}$ on Gerver's sofa is equal to the area, this proves the optimality.