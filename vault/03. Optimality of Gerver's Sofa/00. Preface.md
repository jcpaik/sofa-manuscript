Call a connected planar shape $S$ a _moving sofa_ if it can move around the right-angled corner of a hallway $L$ with unit width. The _moving sofa problem_ asks for the moving sofa of largest area $\alpha_{\max}$. It has been conjectured that Gerver's sofa $G$ of area $2.2195\dots$ achieves the maximum area. The obstacle for proving the global optimality of $G$ is that there is no single workable formula for the area of a moving sofa.

We resolve the problem by showing that Gerver's sofa indeed achieves the maximum area. The key idea is to establish an upper bound $\mathcal{Q}$ of the area of $S$ with a definite formula, so that the value of $\mathcal{Q}$ on $G$ matches the area of $G$. We will show that $\mathcal{Q}$ is concave and $G$ attains a local optimum of $\mathcal{Q}$, thus showing the global optimality of $G$ on $\mathcal{Q}$ and the area. The analysis of $\mathcal{Q}$ extensively uses the Brunn-Minkowski theory on planar convex bodies.