The main difficulty of analyzing the sofa area functional $\mathcal{A}(K)$ of a cap $K$ is in the area $\left| \mathcal{N}(K) \right|$ of the niche. We circumvent the difficulty by bounding $\left| \mathcal{N}(K) \right|$ from below by the area of the region enclosed by the path of $\mathbf{x}(t)$. If we assume the injectivity hypothesis, the ara of the enclosed region can be expressed using Green's theorem. Using this, we define the quadratic functional upper bound $\mathcal{A}_1$ of $\mathcal{A}$ on the space of caps $\mathcal{K}_\omega$.

We first define the _curve area functional_ of an arbitrary curve $\mathbf{x}$.

> __Definition [planar-cross-product].__ For two points $(a, b), (c, d) \in \mathbb{R}^2$, denote their cross product as $(a, b) \times (c, d) = ad - bc \in \mathbb{R}$. ^def-planar-cross-product

> __Definition [curve-area-functional].__ Let $\Gamma$ be any rectifiable curve equipped with a parametrization $\mathbf{x} : [a, b] \to \mathbb{R}^2$ of bounded variation. Write $\mathbf{x}(t) = (x(t), y(t))$. Define the _curve area functional_ $\mathcal{I}(\mathbf{x})$ of $\Gamma$ as the following. ^def-curve-area-functional
$$
\mathcal{I}(\mathbf{x}) = \frac{1}{2} \int_a^b \mathbf{x}(t) \times d\mathbf{x}(t) = \frac{1}{2} \int_a^b x(t) dy(t) - y(t) dx(t)
$$
> Also, write $\mathcal{I}(p, q)$ for the area functional of the line segment $\mathbf{x}$ connecting point $p$ to $q$. Then we have $\mathcal{I}(p, q) = 1/2 \cdot (p \times q)$.

Note that the value of $\mathcal{I}(\mathbf{x})$ does not change even if we take a different parametrization of the curve $\Gamma$. Note also that $\mathbf{x}(t)$ is rectifiable so is of bounded variation. So the Lebesgue-Stieltjes measure $d \mathbf{x}(t) = (dx(t), dy(t))$ exists and the integral is well-defined.

If $\mathbf{x}$ is a Jordan curve, by Green's theorem $\mathcal{I}(\mathbf{x})$ is the exact area of the region enclosed by $\mathbf{x}$ with positive (resp. negative) sign if $\mathbf{x}$ is oriented counterclockwise (resp. clockwise). In general where $\mathbf{x}$ is not closed, $\mathcal{I}(\mathbf{x})$ measures the signed area of the region bounded by the line segment connecting origin and $\mathbf{x}(a)$, the curve $\mathbf{x}$, and then the line segment connecting $\mathbf{x}(b)$ and the origin in order. Note that if $\gamma$ is the concatenation of two curves $\alpha$ and $\beta$ then $\mathcal{I}(\gamma) = \mathcal{I}(\alpha) + \mathcal{I}(\beta)$; this will useful in decomposing the area enclosed by the concatenation of multiple curves.

Using the curve area functional, we define the functional $\mathcal{A}_1$ as the following.

> __Definition [a1].__ For any cap $K \in \mathcal{K}_\omega$, define $\mathcal{A}_1(K) = |K| - \mathcal{I}(\mathbf{x}_K)$. Note that $\mathbf{x}_K$ is both left and right [[01. Space of Caps#^def-inner-corner-deriv|differentiable]], so it is absolutely continuous and the value $\mathcal{I}(\mathbf{x}_K)$ is well-defined. ^def-a1

Note that we have
$$
\mathbf{x}_K(t) = (p_K(t) - 1) u_t + (p_K(t + \pi/2) - 1) v_t
$$
and $p_K$ is Lipschitz, so $\mathbf{x}_K$ is also Lipschitz and rectifiable. Thus the value $\mathcal{I}(\mathbf{x}_K)$ is well-defined. As both $|K|$ and $\mathcal{I}(\mathbf{x}_K)$ are quadratic functionals on $K$ by [[01. Space of Caps#^eqn-area]], [[05. Definition#^def-curve-area-functional]] and that $\mathbf{x}_K$ is convex-linear with respect to $K$, the functional $\mathcal{A}_1(K)$ is also quadratic with respect to $K$.

Assuming the injectivity hypothesis, we now show that $\mathcal{A}_1(K)$ is an upper bound of the area functional $\mathcal{A}(K)$. Our key observation is the following.

> __Lemma [curve-area-functional-lower-bound].__ Let $K \in \mathcal{K}_{\pi/2}$ be arbitrary. Let $\mathbf{z} : [t_0, t_1] \to \mathbb{R}^2$ be any simple curve (that is, curve with $\mathbf{z}$ injective) inside the set $F_{\pi/2} \cap \bigcup_{0 \leq t \leq \pi/2} \overline{Q^-_K(t)}$ such that $\mathbf{z}(t_0)$ and $\mathbf{z}(t_1)$ are both on the line $y=0$. Then we have $\mathcal{I}(\mathbf{z}) \leq |\mathcal{N}(K)|$. ^lem-curve-area-functional-lower-bound

_Proof._ First, we define the set $\mathcal{N}_0$ which is essentially bounded from above by $\mathbf{z}$ and from below by the line $y=0$ as the following. Take an arbitrary $\epsilon > 0$. Construct the closed curve $\Gamma_{\epsilon}$ which is the concatenation of the following curves in order: the curve $\mathbf{z}(t)$, the vertical segment from $\mathbf{z}(t_1)$ to  $\mathbf{z}(t_1) - (0, \epsilon)$, the horizontal segment from $\mathbf{z}(t_1) - (0, \epsilon)$ to $\mathbf{z}(t_0) - (0, \epsilon)$, and then the vertical segment from $\mathbf{z}(t_0) - (0, \epsilon)$ to $\mathbf{z}(t_0)$. The curve $\Gamma_{\epsilon}$ is a Jordan curve because  the set $\overline{\mathcal{N}(K)}$ is always on or above the $x$-axis.

By Jordan Curve Theorem, the curve $\Gamma_\epsilon$ encloses an open set $\mathcal{N}_\epsilon$. We show that $\mathcal{N}_\epsilon$ is 

It is sufficient to show that $\mathcal{I}(\mathbf{x}_K) \leq |\mathcal{N}(K)|$. We construct a closed curve $\Gamma$ consisting of the path $\mathbf{x}_K : [0, \pi/2] \to \mathbb{R}^2$ followed by the line segment from $\mathbf{x}_K(\pi/2)$ to $\mathbf{x}_K(0)$. 

First observe that the line segments $s_L$ and $s_R$ are contained in the bottom sides $l(\omega) \cap P_\omega$ and $l(\pi/2) \cap P_\omega$ of $P_\omega$ respectively. Each path is injective, and so the joined path $\Gamma$ formed by joining all the three paths is a Jordan curve by [[05. Definition#^con-injectivity]]. So by Jordan Curve Theorem, $\Gamma$ divides the plane into an unbounded region and a bounded region. Let $\mathcal{N}_0$ be the bounded open region. We observe that $\Gamma$ is oriented counterclockwise by applying [[yy. Geometric Results#^lem-orientation]] with the endpoints of $s_R$. As $\Gamma$ is oriented clockwise, we have $\left| \mathcal{N}_0 \right| = I(\Gamma)$, and as $I(\Gamma) = I(s_R) + I(\mathbf{x}_K) + I(s_L) = I(\mathbf{x}_K)$ we have $\left| \mathcal{N}_0 \right| = I(\mathbf{x}_K)$.

Next we show $\mathcal{N}_0 \subseteq \mathcal{N}(K)$ which closes the goal as $\left| \mathcal{N}_0 \right| \leq \left| \mathcal{N}(K) \right|$. Take any $p \in \mathcal{N}_0$. Take the ray $r = R_p(\pi/2)$ starting from $p$ upwards, then it should cross some point in the path $\Gamma$. As $\Gamma$ is inside $F_\omega$, we have $\mathcal{N}_0 \subseteq F_\omega$ and so $p \in F_\omega$ as well. As $p$ is in $F_\omega$ and $p$ itself is not in $\Gamma$, we can show that the intersection point of $r$ and $\Gamma$ should be in the path $\mathbf{x}_K$. As some inner corner $\mathbf{x}_K(t)$ of the hallway $L_K(t)$ is on the ray $r$, and the set $Q^-_K(t)$ is closed in the downwards direction, the point $p$ should be in $P_\omega \cap Q^-_K(t)$ and so in $\mathcal{N}(K)$. This shows $\mathcal{N}_0 \subseteq \mathcal{N}(K)$ and we're done. â–¡
