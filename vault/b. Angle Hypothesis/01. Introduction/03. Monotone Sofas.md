# Moving Hallway Problem

The fundamental idea of Gerver [@gerverMovingSofaCorner1992], used in establishing both the lower and upper bound of $\mu_{\max}$ in [[b. Angle Hypothesis/01. Introduction/01. Main Result#^eqn-area-bounds]], is to change the perspective and solve the moving _hallway_ problem. Fix the rotation angle $\omega$ of a moving sofa $S$.  we can change the moving sofa problem as the  In [@gerverMovingSofaCorner1992], Gerver looked at the hallway  in the perspective of the moving sofa , so that  is fixed and the hallway  moves around the sofa (see ^fig-monotone-sofa).

In this perspective, we claim that the sofa $S$ is a common subset of the following sets.

1. For every angle $t \in [0, \omega]$, the rotated hallway $L_t$, which is the hallway $L$ rotated counterclockwise by $t$ and translated so that the outer walls of $L_t$ are in contact with $S$.
2. The horizontal strip $H = \mathbb{R} \times [0, 1]$.
3. A translation of $V_\omega$, where $V_\omega$ is the vertical strip $V = [0, 1] \times \mathbb{R}$ rotated counterclockwise by $\omega$ around the origin.

To observe (1) that $S \subseteq L_t$ for every angle $t \in [0, \omega]$, note that the sofa $S$ is rotated initially by a clockwise angle of $0$ and finally by $\omega$ during its movement. By the intermediate value theorem, there is a moment where a copy of $S$ is rotated clockwise by $t$ inside $L$. Push the rotated copy of $S$ in $L$ towards the positive $x$ and $y$ directions, until it makes contact with the outer walls $x=1$ and $y=1$ of $L$. See this configuration in the perspective of $S$ to conclude $S \subseteq L_t$. To observe (2) and (3), note that the sofa $S$ is initialy in $L_H$ and finally in $L_H$ rotated clockwise by $\omega$; see the configurations in perspective of $S$ to conclude that $S$ is in $H$ and a translation of $V_\omega$.

> __Figure [monotone-sofa].__ The movement of a moving sofa $S$ with rotation angle $\omega = \pi/2$ in perspective of the hallway (left) and the sofa (right). The monotone sofa $S$ is equal to the cap $K$ minus its niche $N$. The cap $K$ is a convex body with the outer walls of $L_t = L_S(t)$ as the tangent lines of cap $K$ (and sofa $S$). The niche $N$ is the union of all triangular regions bounded from above by the inner walls of $L_t = L_S(t)$. ^fig-monotone-sofa
> 
> ![100%](images/monotone-sofa-combined.svg)

Without loss of generality, we can translate the moving sofa $S$ horizontally and assume that $S$ is contained in $V_\omega$, not its arbitrary translation.[^translation] Then from (1), (2) and (3) above, we can always assume that $S$ is contained in the intersection ^eqn-monotone
$$
\mathcal{M}(S) := H \cap V_\omega \cap \bigcap_{0 \leq t \leq \omega} L_t
$$
that we will define as the _monotonization_ of a moving sofa $S$. The set $\mathcal{M}(S)$ is also movable inside $L$; observe that $\mathcal{M}(S)$ is in each rotating hallway $L_t$ of angle $t \in [0, \omega]$, and see this in the perspective of the hallway $L$ in fixed position and vary $t$ from $0$ to $\omega$. So the monotonization $\mathcal{M}(S)$ is a moving sofa containing $S$ ([[a. Upper Bound A1/15. Monotone sofas/10. Monotonization#^thm-monotonization-is-sofa]])[^connectedness], and we call such a sofa $\mathcal{M}(S)$ from monotonization a _monotone sofa_ ([[a. Upper Bound A1/15. Monotone sofas/10. Monotonization#^def-monotone-sofa]]). Since any moving sofa $S$ is contained in a larger monotone sofa $\mathcal{M}(S)$, we only need to consider monotone sofas for the moving sofa problem.

# Main Idea of [[b. Angle Hypothesis/01. Introduction/01. Main Result#^thm-angle]]

Note that $H \cap V_{\omega}$ is a parallelogram of area $\tan(\omega)$. So we can assume that $\omega \geq \arctan(2.2)$.

Assume that there exists a maixmum-area moving sofa $S$ with rotation angle $\omega < \pi/2$. We will show that the same sofa also admits another movement of rotation angle $\pi/2$.

> __Theorem [extend-rotation-angle].__ Let $\omega \in (\arctan(2.2), \pi/2)$ be arbitrary. Then there exists a monotone sofa $S$ with rotation angle $\omega$ attaining the maximum area among all monotone sofas with rotation angle $\omega$. Moreover, the sofa $S$  ^thm-extend-rotation-angle

How do we show that a moving sofa $S$ with rotation angle $\omega < \pi/2$ also admits another movement with rotation angle $\pi/2$? The idea is to extend the original movement with rotation angle $\omega$. Initially, the monotone sofa $S$ is contained in the parallelogram $P_\omega = H \cap V_\omega$. Call the lower-left and the upper-right vertex of $P_\omega$ as $o_\omega$ and $O_\omega$. Define $\Delta_\omega$ as the subset of $P_\omega$ under the arc formed by the circle of radius 1 centered at $p_\omega$. from $p_\omega - u_\omega$ to $p_\omega - v_0$  If the small region $\Delta_\omega$ is disjoint from the moving sofa $S$, then we can rotate the translate of $S$ inside $L_H$ _counterclockwise_ by an angle of $\pi/2 - \omega$. Combine this movement with the movement of $S$ in $L$ to get a movement of $S$ with rotation angle $\pi/2$.

So how do we show that $\Delta_\omega$ is disjoint from $S$? We will show that there is some $t$ such that the inner corner $Q_K^-(t)$ contains the set $\Delta_\omega$. We will need to bound two values from below. First is the length $p_K(0)$ from the origin. Second is the length of the edge $e_K(\pi/2)$ with the normal vector $(0, 1)$. Now the points $q_1 = (p_K(0), 0)$ and $q_2 = o_\omega - \beta_K(\pi/2)$ are in $K$. The positive quadrant $Q_K^+(t)$ of the hallway $L_t$ should contain the two points $q_1$ and $q_2$. We find a proper value of $t$ so that the negative quadrant $Q_K^-(t)$ contains the set $\Delta_\omega$ all.

Bounding $q_1$, or letting $p_K(0) \geq 1.1$ is sufficient by using symmetry argument. However, bounding the edge length $e_K(\pi/2)$ from below . The rightmost point $q_0$ of $S$ on the line $y=0$. The leftmost point $q_1$ of $S$ on the line $y=1$.

[^translation]: Translating the moving sofa $S$ may invalidate the initial condition $S \subseteq L_H$. To resolve this, we relax the [[a. Upper Bound A1/10. Notations and conventions/00. Preface#^def-sofa]]reface#^def-sofa]] of a moving sofa $S$ so that only some translation of $S$ is required to be movable from $L_H$ to $L_V$ inside $L$.

[^connectedness]: This uses an implicit assumption that the intersection $\mathcal{M}(S)$ should be connected. Indeed, [@gerverMovingSofaCorner1992] assumes the connectedness of $\mathcal{M}(S)$ in its proof of Theorem 1 of [@gerverMovingSofaCorner1992] without further justification. We prove this assumption rigorously in [[a. Upper Bound A1/15. Monotone sofas/10. Monotonization#^thm-monotonization-is-connected]].

[^monotonization-monotone]: In fact, that $S$ attains the maximum-area only guarantees that the gain $\mathcal{M}(S) \setminus S$ of monotonization is of measure zero. We show in [[a. Upper Bound A1/15. Monotone sofas/12. Structure of a monotone sofa#^thm-monotonization-fixpoint]] that for any monotone sofa, we have $\mathcal{M}(S) = S$.