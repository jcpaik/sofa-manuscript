Define the space of all caps $K$ with a fixed angle set $\Theta$ ([[10. Monotonization#^def-cap]]) as follows.

> __Definition [cap-space].__ Take any $\omega \in (0, \pi/2]$ and a closed set $\Theta$ such that $\left\{ 0, \omega \right\} \subseteq \Theta \subseteq [0, \omega]$. Define the _space of caps_ $\mathcal{K}_\Theta$ with the _angle set_ $\Theta$ as the collection of all caps $K$ with angle set $\Theta$. If the angle set is $\Theta = [0, \omega]$, denote the space $\mathcal{K}_{[0, \omega]}$ simply as $\mathcal{K}_\omega$. ^def-cap-space

Define the _sofa area functional_ $\mathcal{A}(K)$ on the space of caps $\mathcal{K}_\Theta$ or $\mathcal{K}_\omega$ as following.

> __Definition [sofa-area-functional].__ For any angle $\omega \in [0, \pi/2]$ and a closed angle set $\left\{ 0, \omega \right\} \subseteq \Theta \subseteq [0, \omega]$, define the _sofa area functional_ $\mathcal{A}_{\Theta} : \mathcal{K}_\Theta \to \mathbb{R}$ on the space of caps $\mathcal{K}_\Theta$ as $\mathcal{A}_{\Theta}(K) = |K| - |\mathcal{N}(K)|$. Denote $\mathcal{A}_{[0, \omega]}$ as simply $\mathcal{A}_\omega$. Omit the subscript of $\mathcal{A}$ if the domain $\mathcal{K}_\Theta$ or $\mathcal{K}_\omega$ is clear from context. ^def-sofa-area-functional

The corollary of [[15. Cap contains niche#^thm-niche-in-cap]] is:

> __Corollary [sofa-area-functional].__ If $K \in \mathcal{K}_\omega$ is the cap $\mathcal{C}(S)$ for a monotone sofa $S$ with rotation angle $\omega$, we have $\mathcal{A}(K) = |S|$. ^cor-sofa-area-functional

However, in [[15. Cap contains niche#^rem-niche-not-in-cap]], we observed that not every cap $K \in \mathcal{K}_\omega$ is the cap $\mathcal{C}(S)$ associated to some monotone sofa $S$ with rotation angle $\omega$. Denote $\mathcal{M}_\omega$ as the subset of $\mathcal{K}_\omega$ of such caps $\mathcal{C}(S)$ of some monotone sofa $S$. Then $\mathcal{M}_\omega$ can be seen as the embedding of all monotone sofas $S$ inside the space of caps $\mathcal{K}_\omega$ via taking the cap $S \mapsto \mathcal{C}(S)$. Then by [[01. Moving sofa problem#^thm-monotone-sofa]] and [[20. Sofa area functional#^cor-sofa-area-functional]], the moving sofa problem is equivalent to the maximization of the sofa area functional $\mathcal{A} : \mathcal{M}_\omega \to \mathbb{R}$ on the subspace $\mathcal{M}_\omega$ of $\mathcal{K}_\omega$.



In [[15. Cap contains niche#^con-gerver-cap]], we turned the moving sofa problem into optimizing the sofa area functional $\mathcal{A} : \mathcal{K}_\omega \to \mathbb{R}$ on the space of caps $\mathcal{K}_\omega$. Our main observation here is that the space of caps $\mathcal{K}_\omega$ is a _convex space_. A set $\mathcal{K}$ is a convex space if it is equipped with a convex combination operation $c_\lambda(-, -) : \mathcal{K} \times \mathcal{K} \to \mathcal{K}$ for every $\lambda \in [0, 1]$ such that it satisfies a set of axioms matchiing the properties of convex-linear combination in a real vector space (e.g. Axioms 1-4 of [[@nlab-convex-space]]). Any real vector space $V$ is a convex space with $c_\lambda(v_1, v_2) = (1 - \lambda) v_1 + \lambda v_2$. For the space of caps $\mathcal{K}_\Theta$, define their convex combination as $c_\lambda(K_1, K_2) = (1-\lambda) K_1 + \lambda K_2$ using the Minkowski sum. Then it is rountine to check that the combination is also a cap with rotation angle $\omega$, and that the combination satisfies the axioms of convex space.