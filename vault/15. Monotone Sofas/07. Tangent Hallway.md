Gerver's main insight for deriving his sofa $S_G$ was that a moving sofa is essentially a common subset of rotating hallways. Let $S$ be a moving sofa with rotation angle $\omega \in [0, \pi/2]$. By looking at the movement of $S$ inside the hallway $L$ in the perspective of $S$, Gerver observed that the fixed $S$ should be contained inside the hallways rotating around $S$ (line xx-yy of [[@gerverMovingSofaCorner1992]]). Furthermore, he actually showed that for a connected shape $S$, being a common subset of rotating hallways is also sufficient for $S$ to be a moving sofa (line xx-yy of [[@gerverMovingSofaCorner1992]]).

> __Theorem [moving-sofa-iff-hallway-intersection].__ Let $\omega \in [0, \pi/2]$ be an arbitrary angle. For a connected shape $S$, the followings are equivalent. ^thm-moving-sofa-iff-hallway-intersection
> 
> - $S$ is a moving sofa with rotation angle $\omega$.
> - $S$ is contained in a translation of $H$ and $R_\omega(V)$. Moreover, for every $t \in [0, \omega]$, $S$ is contained in a translation of $R_t(L)$, the hallway rotated counterclockwise by an angle of $t$.

Gerver's idea for proving the equivalence of [[07. Tangent Hallway#^thm-moving-sofa-iff-hallway-intersection]] was to use the hallways that touch the shape $S$ in the outer walls. We call such hallway the _tangent hallway_ of $S$.

> __Definition [tangent-hallway].__ For any shape $S$ and angle $t \in S^1$, let the _tangent hallway_ $L_S(t)$ of $S$ with angle $t$ be the unique translation of $R_t(L)$ that touches $S$ in the outer walls (the walls corresponding to $a$ and $c$ of $L$). ^def-tangent-hallway

Assume that a shape $S$ is contained in a translation $L'$ of $R_t(L)$, so that $L'$ is a hallway rotated counterclockwise by an angle of $t$. Then we can push $L'$ towards $S$ in the directions $-u_t$ and $-v_t$ until the outer walls of $L'$ touch $S$. The pushed hallway $L_S(t)$ still contains $S$ because the directions $-u_t$ and $-v_t$ push the inner walls of $L'$ forward or keeps it stationary, and we get the following.

> __Proposition [tangent-hallway].__ For any shape $S$ contained in a translation of the hallway $R_t(L)$ rotated counterclockwise by an angle of $t \in S^1$, the tangent hallway $L_S(t)$ with angle $t$ contains $S$. ^pro-tangent-hallway

Using tangent hallways, we give a complete proof of [[07. Tangent Hallway#^thm-moving-sofa-iff-hallway-intersection]] for clarity, as Gerver's proof of [[07. Tangent Hallway#^thm-moving-sofa-iff-hallway-intersection]] is hidden in the lines between the proof of Theorem 1 of [[@gerverMovingSofaCorner1992]],

_Proof._ (of [[07. Tangent Hallway#^thm-moving-sofa-iff-hallway-intersection]])

($\Rightarrow$) Consider the movement of $S$ inside the hallway $L$. For any angle $t \in [0, \omega]$, there is a moment where the sofa $S$ is rotated clockwise by an angle of $t$ and contained in $L$. Looking at this in perspective of the sofa, $S$ is contained in some translation of $L$ rotated _counterclockwise_ by arbitrary $t \in [0, \omega]$. Likewise, by looking at the initial (resp. final) position of $S$ inside $L_H$ (resp. $L_V$) in perspective of $S$, the set $S$ is contained in both a translation of $H$ and $R_\omega(V)$.

($\Leftarrow$) The position of the tangent hallway $L_S(t)$ depends only on the values $p_S(t)$ and $p_S(t + \pi / 2)$ of the support function $p_S$ of $S$. As $p_S$ is continuous, the tangent hallway $L_S(t)$ moves continuously with respect to $t \in [0, \omega]$. Let $f_t$ be the rigid transformation that sends $L_S(t)$ to $L$. Then the transformation $f_t(S)$ of $S$ moves continuously with respect to $t$, and is inside $L$ by [[07. Tangent Hallway#^pro-tangent-hallway]]. Because $S$ is contained in a translation of $H$, the width of $S$ measured in the direction of $v_0$ is at most 1. So $S$ is contained in the horizontal side of $L_S(0)$, and by mapping it under $f_0$ we have $f_0(S) \subseteq L_H$. Likewise, $S$ is contained in a translation of $R_\omega(V)$, so the width of $S$ measured in the direction of $v_\omega$ is at most 1. Thus $S$ is contained in the vertical side of $L_S(\omega)$, and by mapping it under $f_\omega$ we have $f_\omega(S) \subseteq L_V$. â–¡

Like Gerver, we will use the tangent hallways as the hallways that contains our sofa $S$. We gather the definitions we will use regarding tangent hallway in one place for easier reference. For first read, it is okay to move to the next subsection. We first name the parts of the tangent hallway $L_S(t)$.

> __Definition [rotating-hallway-parts].__ Let $Q^+ = (-\infty, 1]^2$ be the closed quarter-plane bounded by outer walls $a$ and $c$. Let $Q^- = (-\infty, 0)^2$ be the open quarter-plane bounded by inner walls $b$ and $d$, so that $L = Q^+ \setminus Q^-$. For any shape $S$ and angle $t \in S^1$, let $a_S(t), b_S(t), c_S(t), d_S(t), \mathbf{x}_S(t), \mathbf{y}_S(t), Q^+_S(t), Q^-_S(t)$ be the parts of $L_S(t)$ corresponding to the parts $a, b, c, d, \mathbf{x}, \mathbf{y}, Q^+, Q^-$ of $L$ respectively. ^def-rotating-hallway-parts

So we have $L_S(t) = Q_S^+(t) \setminus Q_S^-(t)$ and $Q^+_S(t) = H_S(t) \cap H_S(t + \pi/2)$ in particular. We also define the following sets.

> __Definition [parallelogram-fan].__ For any angle $\omega \in [0, \pi/2]$, define the _parallelogram_ $P_\omega = H \cap R_\omega(V)$ with rotation angle $\omega$. If $\omega = \pi / 2$, then $P_\omega$ is the horizontal strip $H$. For any $\omega < \pi / 2$, let $p_{\omega} = l(\omega, 1) \cap l(\pi/2, 1)$ be the upper-right corner of $P_\omega$. Likewise, define the _fan_ $F_\omega = H(0, \pi+\omega) \cap H(0, 3\pi/2)$ as the convex cone bounded by the bottom edges of $P_\omega$. ^def-parallelogram-fan

We define the vertices of a cap $K$.

> __Definition [cap-vertices].__ Let $K$ be a cap with angle set $\Theta$ and rotation angle $\omega$. For any $t \in \Theta$, define the vertices $A^+_K(t) = v^+_K(t)$, $A^-_K(t) = v^-_K(t)$,  $C^+_K(t) = v^+_K(t + \pi/2)$, and $C^-_K(t) = v^-_K(t + \pi/2)$ of $K$. ^def-cap-vertices

Note that the outer wall $a_K(t)$ (resp. $c_K(t)$) of $L_K(t)$ touches the cap $K$ at the vertices $A_K^+(t)$ and $A_K^-(t)$ (resp. $C_K^+(t)$ and $C_K^-(t)$) respectively. We also define the _upper boundary_ of a cap $K$.

> __Definition [upper-boundary-of-cap].__ For any cap $K$ with rotation angle $\omega$, define the _upper boundary_ $\delta K$ of $K$ as the set $\delta K = \bigcup_{t \in [0, \omega + \pi/2]} e_K(t)$. ^def-upper-boundary-of-cap

Note that for a cap $K$ with angle set $\Theta$, the upper boundary $\delta K$ is exactly the points touched by the outer walls of tangent hallways $L_K(t)$ touch $K$ for every $t \in \Theta$. Also note that unless $K$ is the vertical line segment $\left\{ 0 \right\}\times [0, 1]$, $K$ has nonempty interior and so $\delta K$ is a Jordan arc connecting the endpoints $v_K^-(0)$ and $v_K^+(\omega + \pi / 2)$.

For any cap $K$ and angle $t$, define the following values of the wedge $T_K(t) = K \cap Q_K^-(t)$ bounded by the inner walls $b_K(t)$ and $d_K(t)$. 

> __Definition [cap-wedge-gap].__ Fix an arbitrary cap $K$ with rotation angle $\omega \in [0, \pi/2]$ and an angle $t \in (0, \omega)$.
> 
> Define the point $W_K(t)$ as the intersection of the line $l(\pi/2, 0)$ and $b_K(t)$. Define $w_K(t) = (v^-_K(0) - W_K(t))\cdot u_0$ as the distance between $W_K(t)$ and the right endpoint $v_K^-(0)$ of $\delta K$ along the $u_0$.
> 
> Likewise, define the point $Z_K(t)$ as the intersection of the line $l(\omega, 0)$ and $d_K(t)$. Define $z_K(t) = (v_K^+(\omega + \pi/2) - Z_K(t)) \cdot v_t$ as the distance between $Z_K(t)$ and the left endpoint $v_K^+(\omega + \pi/2)$ along the direction $v_\omega$. ^def-cap-wedge-gap