# Summary

We describe a process that takes a cap $K$ of rotation angle $\omega$ and gives a cap $K'$ of larger rotation angle $\omega' > \omega$. We provide a sufficient condition in which $\mathcal{A}(K') \geq \mathcal{A}(K)$. In particular, if the enlarged rotation angle is $\omega' = \pi/2$, then it is always that $\mathcal{A}(K') \geq \mathcal{A}(K)$.

# Outline

Given a cap $K$ of rotation angle $\omega$ and angle set $\Theta$, here we will construct a cap $K^{\omega'}$ of rotation angle $\omega' > \omega$ and angle set $\Theta \cup \left\{ \omega' \right\}$. We will call $K^{\omega'}$ the _angular extension_ of $K$ with rotation angle $\omega'$.

> __Definition [cap-rotation-angle-extension].__ Let $K$ be any cap of angle set $\Theta$ and rotation angle $\omega$. Let $\omega' \in (\omega, \pi/2]$ be an angle. Define $K^{\omega'}$ as the following set. ^def-cap-rotation-angle-extension
$$
K^{\omega'} = F_{\omega'} \cap \bigcap_{t \in \Theta} Q^+_K(t)
$$

> __Theorem [cap-rotation-angle-extension].__ In [[25. Angular extension#^def-cap-rotation-angle-extension]], the set $K' := K^{\omega'}$ is a cap with angle set $\Theta' := \Theta \cup \left\{ \omega' \right\}$ and rotation angle $\omega'$. With this, call $K^{\omega'}$ the _angular extension_ of $K$ with rotation angle $\omega'$. ^thm-cap-rotation-angle-extension

_Proof._ We first show that $K'$ is a cap with angle set $\Theta'$ by checking that $K'$ satisfies the two conditions of [[10. Monotonization#^def-cap]]. The point $o_{\omega'}$ is in the segment connecting $o_{\omega}$ and $-v_0$, so we have $o_{\omega'} \in M_{\omega}$ ([[10. Monotonization#^def-middle-set]]) and thus $o_{\omega'} \in Q^+_K(t)$ for all $t \in \Theta$ ([[10. Monotonization#^lem-cap-contains-middle-set]]). Now we have $o_{\omega'} \in K^{\omega'} \subseteq F_{\omega'}$ ([[25. Angular extension#^def-cap-rotation-angle-extension]]) which implies the first condition of [[10. Monotonization#^def-cap]]. By [[25. Angular extension#^def-cap-rotation-angle-extension]], $K'$ is the intersection of half-planes with normal angles in $\Theta' \cup (\Theta' + \pi/2) \cup \left\{ \pi + \omega', 3\pi/2 \right\}$, so the second condition of [[10. Monotonization#^def-cap]] is true. □

We will show that the cap $K$ and its angular extension $K^{\omega'}$ share most of the values ([[07. Tangent hallway#^def-rotating-hallway-parts]], ) we defined over a cap.

> __Theorem [cap-rotation-angle-extension].__ For any cap $K$ with angle set $\Theta$ and rotation angle $\omega$, its angular extension $K'$ with rotation angle $\omega' > \omega$ satisfies the following properties. ^thm-cap-rotation-angle-extension
> 
> 1. We have $p_K(t) = p_{K'}(t)$ for all $t \in [0, \omega] \cup [\pi/2, \pi/2 + \omega]$.
> 2. Consequently, $?_K(t) = ?_{K'}(t)$ for all $t \in \Theta$ and $? = L, a, b, c, d, \mathbf{x}, \mathbf{y}, Q^+, Q^-,w, W$.

Note however that we will likely have $z_K(t) \neq z_{K'}(t)$ and $Z_K(t) \neq Z_{K'}(t)$. Next, we will prove a sufficient condition where the sofa area functional $\mathcal{A}(K^{\omega'})$ of angular extension $K^{\omega'}$ is greater than or equal to the sofa area functional $\mathcal{A}(K)$ of the original $K$.

> __Theorem [cap-angular-extension-area-functional].__ Let $K$ be any cap of angle set $\Theta$ and rotation angle $\omega$. Let $K' := K^{\omega'}$ be the angular extension of $K$ with rotation angle $\omega'$. If $F_\omega \setminus F_{\omega'} \subseteq \mathcal{N}(K)$ then we have $\mathcal{A}(K) \leq \mathcal{A}(K^{\omega'})$. In particular, if $\omega' = \pi/2$ then we have $\mathcal{A}(K) \leq \mathcal{A}(K^{\omega'})$ unconditionally. ^thm-cap-angular-extension-area-functional

[[25. Angular extension#^thm-cap-angular-extension-area-functional]] will be very useful later in extending an argument on sofas of rotation angle $\pi/2$ to sofas of rotation angle $[\omega, \pi/2]$ for an explicit $\omega < \pi/2$.

# Proofs

The following proof justify that $K^{\omega'}$ is indeed a cap with rotation angle $\omega'$.

_Proof._ (of [[25. Angular extension#^thm-cap-rotation-angle-extension]]) We show that $K'$ is a cap with angle set $\Theta' = \Theta \cup \left\{ \omega' \right\}$ by checking that $K'$ satisfies the two conditions of [[10. Monotonization#^def-cap]]. The point $o_{\omega'}$ is in the segment connecting $o_{\omega}$ and $-v_0$, so we have $o_{\omega'} \in M_{\omega}$ ([[10. Monotonization#^def-middle-set]]) and thus $o_{\omega'} \in Q^+_K(t)$ for all $t \in \Theta$ ([[10. Monotonization#^lem-cap-contains-middle-set]]). Now we have $o_{\omega'} \in K^{\omega'} \subseteq F_{\omega'}$ ([[25. Angular extension#^def-cap-rotation-angle-extension]]) which implies the first condition of [[10. Monotonization#^def-cap]]. By [[25. Angular extension#^def-cap-rotation-angle-extension]], $K'$ is the intersection of half-planes with normal angles in $\Theta' \cup (\Theta' + \pi/2) \cup \left\{ \pi + \omega', 3\pi/2 \right\}$, so the second condition of [[10. Monotonization#^def-cap]] is true. □

We analyze the triangular shape $F_\omega \setminus F_{\omega'}$ using elementary geometry.

> __Lemma [cap-fan-difference].__ For any pair of angles $\omega < \omega ' \leq \pi/2$, the set $F_\omega \setminus F_{\omega'}$ is empty if $\omega' = \pi/2$, or the triangular region with vertices $o_{\omega}$, $o_{\omega'}$ and $p_{\omega, \omega'} :=l(\omega, -1) \cap l(\omega', -1)$ strictly under the edge $l(\omega', -1)$ connecting $o_{\omega'}$ and $p_{\omega, \omega'}$ if $\omega' < \pi/2$. Moreover, if $\omega' < \pi/2$ then the vertex $o_\omega'$ is strictly in the edge of $M_\omega$ connecting $o_\omega$ and $-v_0$, and the vertex $p_{\omega, \omega'}$ is strictly in the edge of $M_\omega$ connecting $o_\omega$ and $-u_\omega$. In particular, $F_\omega \setminus F_{\omega'}$ is a subset of $M_\omega$ strictly under the line connecting the vertices $-u_\omega$ and $-v_0$ of $M_\omega$. ^lem-cap-fan-difference

_Proof._ Since $\omega' = \pi/2$ implies that $F_\omega \setminus F_{\omega'}$ is empty, we only need to prove the case where $\omega' < \pi/2$. Draw an arc $c$ of the unit circle centered at $O$ connecting the points $-v_0$ and $-u_\omega$ inside $M_\omega$. The edges of $F_\omega$ are the tangent lines of $c$ at $-v_0$ and $-u_\omega$.  The line $l(\omega', -1)$ is the tangent line of $c$ at $-u_{\omega'}$ intersecting the edges of $F_\omega$ at $o_{\omega'}$ and $p_{\omega, \omega'}$ respectively. So the vertex $o_\omega'$ is strictly in the segment connecting $o_\omega$ and $-v_0$, and the vertex $p_{\omega, \omega'}$ is strictly in the segment connecting $o_\omega$ and $-u_\omega$. As $F_\omega$ is the region on or above both the lines $l(\pi/2, -1)$ and $l(\omega, -1)$, we have 

Also,  and the set $F_\omega \setminus F_{\omega'}$ is is the region of $F_\omega$ under the tangent line of $c$ at $-u_{\omega'}$. □

> __Lemma [cap-angular-extension-difference].__ Let $K$ be any cap of angle set $\Theta$ and rotation angle $\omega$. Let $K' := K^{\omega'}$ be the angular extension of $K$ with rotation angle $\omega'$. Then we have the followings. ^lem-cap-angular-extension-difference
> 
> 1. $\mathcal{N}(K) \setminus \mathcal{N}(K') \subseteq F_{\omega} \setminus F_{\omega'} = K \setminus K' \subseteq T$ where $T$ is the triangle with vertices $o_\omega$, $o_{\omega'}$, and $-u_\omega$.
> 2. $\mathcal{N}(K') \setminus \mathcal{N}(K) \subseteq K' \setminus K \subseteq F_{\omega'} \setminus F_{\omega}$

_Proof._ We show $K \setminus K' = F_\omega \setminus F_{\omega'}$. By definition of $K$ and $K'$ we have □

> __Lemma [cap-angular-extension-upper-boundary].__ Let $K$ be any cap of angle set $\Theta$ and rotation angle $\omega$, and $K' := K^{\omega'}$ be the angular extension of $K$ with rotation angle $\omega'$. Then $\delta K \subseteq \delta K'$. ^lem-cap-angular-extension-upper-boundary

_Proof._ We have $K \setminus (K \setminus K') \subseteq K'$. Any point in $F_\omega \setminus F_{\omega'}$ is superseded by the point $O$ in $M_\omega$ in the direction of $u_t$ and $v_t$. So

On the other hand, by [[25. Angular extension#^def-cap-rotation-angle-extension]] we have $p_{K'}$ dominated by xx.
□

We will soon show that 

Next, we check $p_K(t) = p_{K'}(t)$ for all $t \in \Theta \cup (\Theta + \pi/2)$. 

$K'$ is defined as the intersection ([[25. Angular extension#^def-cap-rotation-angle-extension]]) of half-planes with normal angles in the set . Define $M_{\theta}$ as the  

Let $K$ be any cap of angle set $\Theta$ and rotation angle $\omega$. Let $K' := K^{\omega'}$ be the angular extension of $K$ with rotation angle $\omega'$. The caps $K$ and $K'$ differ slightly in its left side, so we need to match $K$ with $K'$.

1. $K$ and $K'$ share the same positions of $\mathbf{x}_K(t) = \mathbf{x}_{K'}(t)$ for all $t \in \Theta$.
2. $\mathcal{N}(K') \setminus \mathcal{N}(K) \subseteq K' \setminus K \subseteq F_{\omega'} \setminus F_{\omega}$   
3. If $K \setminus K' = F_\omega \setminus F_{\omega}^{\omega'} \subseteq \mathcal{N}(K)$, then we have $\mathcal{A}(K) \leq \mathcal{A}(K')$.
	1. $\mathcal{A}(K') - \mathcal{A}(K) = |K'| - |K| - (\mathcal{N}(K') - \mathcal{N}(K))$
	2. $= |K' \setminus K| - |K \setminus K'| + |\mathcal{N}(K) \setminus \mathcal{N}(K')| - |\mathcal{N}(K') \setminus \mathcal{N}(K)|$ 
	3. $= |K' \setminus K| - |\mathcal{N}(K') \setminus \mathcal{N}(K)| - |K \setminus K'| + |\mathcal{N}(K) \setminus \mathcal{N}(K')|$

Let $K$ be any sofa with angle set $\Theta_K$ and rotation angle $\omega \in [\theta_{n-1}, \pi/2]$.

1. Take last angle of $K$. Remove any edge cut by $L_K(\omega)$ (no contribution to niche, and takes only cap off).
2. Then replace the rotation angle to $\omega'$. Locations 
3. $K$.

SofaDesigner: applies to $\Theta$.
