As $\mathcal{A}_1$ is a concave function, any critical point of $\mathcal{A}_1$ is a global maximum. We use calculus of variation to find such a maximizer $K_1 \in \mathcal{K}_\omega$ of $\mathcal{A}_1$. Take $K_2 \in \mathcal{K}_\omega$ arbitrary. Then if we let $K= (1-\lambda)K_1 + \lambda K_2$ as the interpolation between $K_1$ and $K_2$ with $0 \leq \lambda \leq 1$, then $\left. \frac{d}{d\lambda} \right|_{\lambda = 0} \mathcal{A}_1(K)$ has to be nonpositive as $K_1$ maximizes $\mathcal{A}_1$. In fact, this condition is equivalent to $K_1$ being a maximizer.

> __Theorem [variation-maximizer].__ Let $f$ be a negative-definite quadratic functional on $\mathcal{K}_\omega$. Then $K_1 \in \mathcal{K}_\omega$ is a maximizer of $f$ if and only if for any $K_2 \in \mathcal{K}_\omega$, if we let $K= (1-\lambda)K_1 + \lambda K_2$ for any $\lambda \in [0, 1]$ then we have $\left. \frac{d}{d\lambda} \right|_{\lambda = 0} f(K) \leq 0$. ^thm-variation-maximizer

_Proof._ We have discussed the only if part. Now we show that whenever $\left. \frac{d}{d\lambda} \right|_{\lambda = 0} f(K) \leq 0$ for any $K_2$, then $K_1$ is a maximizer. Let $p(\lambda) = f(K)$ be the quadratic polynomial of $\lambda$ which denotes the value of $f(\lambda)$. Then the quadratic coefficient is nonpositive, and $\left. \frac{d}{d\lambda} \right|_{\lambda = 0} p(\lambda) \leq 0$ so the linear coefficient is also nonpositive. Now $p(\lambda)$ is monotonically decreasing, and so $f(K_2) = p(1) \leq p(0) = f(K_1)$. As $K_2$ is taken arbitrarily, this proves that $K_1$ is a maximizer. □

With [[#^thm-variation-maximizer]], it suffices to find some $K_1$ so that $\left. \frac{d}{d\lambda} \right|_{\lambda = 0} \mathcal{A}_1(K) = 0$. We calculate the differentiation.

> __Definition [i-cap].__ For any cap $K$, define $i_K : J_\omega \to \mathbb{R}$ as $i_K(t) = h_K^+(t) - 1$ and $i_K(t + \pi / 2) = g^+_K(t) - 1$ for $t \in [0, \omega]$. ^def-i-cap

> __Theorem [variation-a1].__ Let $K_1$ and $K_2$ be two caps in $\mathcal{K}_\omega$. Define $K= (1-\lambda)K_1 + \lambda K_2$ as the interpolation between $K_1$ and $K_2$ with $0 \leq \lambda \leq 1$. Then we have the following calculation. ^thm-variation-a1
$$
\left. \frac{d}{d\lambda} \right|_{\lambda = 0} \mathcal{A}_1(K)
= \int_{t \in J_\omega} (p_{K_2} (t) - p_{K_1}(t)) (\beta_{K_1} (dt) - i_{K_1}(t) dt)
$$

_Proof._ We start from [[01. Construction of A1#^thm-a1-formula]].
$$
\begin{align*}
\mathcal{A}_1(K) = \frac{1}{2} \int_{J_\omega} p_K(t) \beta_K(dt) - 
\frac{1}{2} \int_{[0, \omega]} \mathbf{x}_K(t) \times \mathbf{x}'_K(t) dt
\end{align*}
$$

By applying [[05. Area#^thm-variation-area]] to the first term and applying [[02. Curves#^thm-variation-curve]] to the second term, we reach the following.
$$
\left. \frac{d}{d\lambda} \right|_{\lambda = 0} \mathcal{A}_1(K)
= \int_{t \in [0, \omega]} (p_{K_2} (t) - p_{K_1}(t)) \beta_{K_1} (dt) - 
\int_0^\omega (\mathbf{x}_{K_2} - \mathbf{x}_{K_1}) \times d\mathbf{x}_{K_1}(t)
$$
Let's focus on the second term more. We write each vector as linear combinations of $u_t$ and $v_t$. This follows from definition of $\mathbf{x}_K$.
$$
\mathbf{x}_{K_2} - \mathbf{x}_{K_1} = (p_{K_2} (t) - p_{K_1} (t)) u_t + 
(p_{K_2} (t + \pi / 2) - p_{K_1} (t + \pi / 2))) v_t
$$
And [[03. Space of Caps#^thm-inner-corner-deriv]] gives the following almost everywhere.
$$
\mathbf{x}'_{K_1} = \mathbf{v}_{K_1}(t) = -(g_{K_1}^+(t) - 1) \cdot u_t + (h_{K_1}^+(t) - 1) \cdot v_t
$$
So the cross-product $(\mathbf{x}_{K_2} - \mathbf{x}_{K_1}) \times \mathbf{x}'_{K_1}$ is equal to the following almost everywhere.
$$
(h_K^+(t) - 1) (p_{K_2} (t) - p_{K_1} (t)) + (g_K^+(t) - 1) (p_{K_2} (t + \pi / 2) - p_{K_1} (t + \pi / 2)))
$$
Using [[#^def-i-cap]], the second integral can be expressed more concisely.
$$
\int_0^\omega (\mathbf{x}_{K_2} - \mathbf{x}_{K_1}) \times d\mathbf{x}_{K_1}(t) = 
\int_{t \in J_\omega} (p_{K_2} (t) - p_{K_1}(t)) i_{K_1}(t) dt
$$
We get the original equation by plugging this back to the equation for $\left. \frac{d}{d\lambda} \right|_{\lambda = 0} \mathcal{A}_1(K)$. □

Now we calculate for which $K_1$ is the value in [[#^thm-variation-a1]] equal to zero. To do this, we solve for $\beta_K(dt) = i_K(t)dt$ on $J_\omega$ assuming that $i_K$ differentiable on the interior of $J_\omega$. Note that here we allow the measure $\beta_K$ to have nonzero point mass concentrated on the values $u = \beta, \pi/2$.
$$
\begin{align}
g_K'(t) & = \left.\frac{d}{dt}\right|_{t=0} \int_{t}^{t+\pi/2} \cos \left( u - t \right) \, \beta(du) \\
& = -i_K(t) + \int_t^{t+\pi/2} \sin (u-t)\, \beta(du) = -i_K(t) + h_K(t) 
\end{align}
$$
$$
\begin{align}
h_K'(t) & = \left.\frac{d}{dt}\right|_{t=0} \int_{t}^{t+\pi/2} \sin \left( u - t \right) \, \beta(du) \\
& = i_K\left( t + \pi/2 \right) - \int_t^{t+\pi/2} \cos (u-t)\, \beta(du) = i_K(t + \pi/2) - g_K(t)
\end{align}
$$
Putting back [[#^def-i-cap]], we obtain the following equations for $t \in (0, \beta)$.
$$
\begin{gather}
g'_K(t) = -h_K(t) + 1 + h_K(t) = 1 \\
h'_K(t) = g_K(t) - 1 - g_K(t) = -1
\end{gather}
$$
The boundary conditions is that we need the ledge heights to be equal to $g_K(0)=1$ and $h(\beta)=1$. So this gives formula $g_K(t) = 1 + t$ and $h_K(t) = 1 + (\beta-t)$. So $f_K(t) = (\beta-t)$ and $f_K(t+\pi/2) = t$. As the height of the sofa has to be equal to 1, we have the following.
$$
\int_{t \in [0, \beta] } \cos \left( t \right) \, \beta_K (dt) = 1
$$
Computation then gives the following.
$$
\int_{t \in [0, \beta]} \cos (t) (\beta-t) \, dt + \beta_K(\{\beta\}) = 1 - \cos (b) + \beta_K(\left\{ \beta \right\}) = 1
$$
So consequently $\beta_K(\{\beta\}) = \cos(b)$. By symmetry it is also that $\beta_K(\{\pi/2\}) = \cos(b)$ as well. 

> __Definition [maximum-presofa-a1].__ For any rotation angle $\beta \in [0, \pi/2]$, define the cap $K_1$ as the cap with boundary measure described by the following boundary measure. ^def-maximum-presofa-a1
> $$
\begin{gather}
\beta_K(\{\beta\}) = \cos(b) \\
\beta_K(\{\pi/2\}) = \cos(b) \\
\beta_{K}(dt) = i_{K}(t)dt \\
i_K(t) = (\beta-t) \text{ and } i_K(t+\pi/2) = t \text{ for } t \in (0, \beta)
\end{gather}
$$

> __Theorem [maximum-presofa-a0-critical].__ For any cap $K'$ and $\lambda \in [0, 1]$, if we let $K = (1-\lambda) K_0 + \lambda K'$ then $\left.\frac{d}{d\lambda}\right| \mathcal{A}_0(K) = 0$. ^thm-maximum-presofa-a1-critical

_Proof._ Following the computation above, we can define such a cup and we can verify that the given $i_K$ satisfies both $\beta_{K}(dt) = i_{K}(t)dt$ and [[#^def-i-cap]]. □

TODO: use the computation to find the area.